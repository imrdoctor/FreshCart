import{r as s,U as u,u as i,j as g,v as f,b as d}from"./index-BJfZhxjA.js";function m(r){const{setuserlogin:a}=s.useContext(u),e=i(),[o,t]=s.useState(null);return s.useEffect(()=>{const n={token:localStorage.getItem("userToken")};async function c(){try{(await d.get("https://ecommerce.routemisr.com/api/v1/addresses",{headers:n})).data.status==="success"?(console.log("Your Token Is Real"),t(!0)):(console.log("Invalid Token, redirecting to login"),t(!1),e("/freshcart/login"))}catch{t(!1),e("/freshcart/login"),localStorage.removeItem("userToken"),a(null)}}c()},[e]),o===null?null:o?r.children:g.jsx(f,{to:"/freshcart/login"})}export{m as default};
